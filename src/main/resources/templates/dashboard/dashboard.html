<!doctype html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layoutAssets(
        'Dashboard',
        '/css/dashboard.css',
        '/js/dashboard.js',
        ~{::section}
      )}">

<section class="container dashboard-page"
         th:attr="data-summary-url=@{/dashboard/summary}">

    <header class="dash-hero">
        <div class="dash-hero__text">
            <h1>Dashboard</h1>
            <p>Resumen general del sistema</p>
            <div class="dash-hero__meta muted">
                <span>Fecha</span>
                <span class="dot">•</span>
                <span th:text="${#temporals.format(#temporals.createNow(), 'dd/MM/yyyy HH:mm')}">--</span>
            </div>
        </div>

        <div class="dash-hero__badge">
            <div class="badge-title">Estado</div>
            <div class="badge-value" id="dashStatus">Cargando…</div>
            <div class="badge-sub muted" id="dashStatusSub">Conectando al servidor</div>

            <div class="card-title">Salud del sistema</div>
            <div class="health" id="healthBox">
                <div class="health-dot" id="healthDot"></div>
                <div>
                    <div class="health-title" id="healthTitle">Verificando…</div>
                    <div class="muted" id="healthSub">Esperando respuesta</div>
                </div>
            </div>
        </div>
    </header>

    <!-- KPIs -->
    <section class="dash-grid">
        <article class="kpi card">
            <div class="kpi-top">
                <span class="kpi-label">Bancos</span>
                <span class="kpi-chip">Total</span>
            </div>
            <div class="kpi-value" id="kpiBancos">—</div>
            <div class="kpi-sub muted">Registros en el sistema</div>
        </article>

        <article class="kpi card">
            <div class="kpi-top">
                <span class="kpi-label">Sucursales</span>
                <span class="kpi-chip">Total</span>
            </div>
            <div class="kpi-value" id="kpiSucursales">—</div>
            <div class="kpi-sub muted">Sedes operativas</div>
        </article>

        <article class="kpi card">
            <div class="kpi-top">
                <span class="kpi-label">Contratos</span>
                <span class="kpi-chip">Activos</span>
            </div>
            <div class="kpi-value" id="kpiContratos">—</div>
            <div class="kpi-sub muted">Asignaciones vigentes</div>
        </article>

        <article class="kpi card">
            <div class="kpi-top">
                <span class="kpi-label">Vigilantes</span>
                <span class="kpi-chip">Total</span>
            </div>
            <div class="kpi-value" id="kpiVigilantes">—</div>
            <div class="kpi-sub muted">Personal disponible</div>
        </article>

        <article class="kpi card">
            <div class="kpi-top">
                <span class="kpi-label">Usuarios</span>
                <span class="kpi-chip">Total</span>
            </div>
            <div class="kpi-value" id="kpiUsuarios">—</div>
            <div class="kpi-sub muted">Cuentas registradas</div>
        </article>
    </section>

    <!-- Accesos rápidos -->
    <section class="card dash-actions">
        <div class="card-title">Accesos rápidos</div>
        <div class="dash-actions__grid">
            <a class="dash-link" th:href="@{/bancos}">
                <div class="dash-link__title">Bancos</div>
                <div class="dash-link__sub muted">Alta / baja / modificación</div>
            </a>
            <a class="dash-link" th:href="@{/sucursales}">
                <div class="dash-link__title">Sucursales</div>
                <div class="dash-link__sub muted">Gestión de sucursales</div>
            </a>
            <a class="dash-link" th:href="@{/contratos}">
                <div class="dash-link__title">Contratos</div>
                <div class="dash-link__sub muted">Asignaciones</div>
            </a>
            <a class="dash-link" th:href="@{/asaltos}">
                <div class="dash-link__title">Asaltos</div>
                <div class="dash-link__sub muted">Registro y reporte</div>
            </a>
            <a class="dash-link" th:href="@{/vigilantes}">
                <div class="dash-link__title">Vigilantes</div>
                <div class="dash-link__sub muted">Personal</div>
            </a>
            <a class="dash-link" th:href="@{/users}">
                <div class="dash-link__title">Usuarios</div>
                <div class="dash-link__sub muted">Administración</div>
            </a>
        </div>
    </section>

    <section class="dash-bottom"></section>
</section>
</html>